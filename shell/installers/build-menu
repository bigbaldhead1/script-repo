#!/bin/bash

clear

server_name="$(hostname)"

build_tools_fn() { bash <(curl -sSL https://build-tools.optimizethis.net); }
curl_fn() { bash <(curl -sSL https://curl.optimizethis.net); }
ffmpeg_fn() { bash <(curl -sSL https://ffn.optimizethis.net) --build --enable-gpl-and-non-free --latest; }
go_fn() { bash <(curl -sSL https://go.optimizethis.net); }
gparted_fn() { bash <(curl -sSL https://gparted.optimizethis.net); }
imagick_fn() { bash <(curl -sSL https://magick.optimizethis.net) --build --latest; }
szip_release_fn() { bash <(curl -sSL https://7z.optimizethis.net); }
szip_beta_fn() { bash <(curl -sSL https://7z-beta.optimizethis.net); }
video_fn() { bash <(curl -sSL https://players.optimizethis.net); }

green='\e[32m'
blue='\e[34m'
clear='\e[0m'

ColorGreen() { echo -ne "$green$1$clear"; }
ColorBlue() { echo -ne "$blue$1$clear"; }

install_menu()
{

echo -ne "
Installer Script Menu
$(ColorGreen '1)') 7-Zip Release v21.00
$(ColorGreen '2)') 7-Zip Beta v23.00
$(ColorGreen '3)') ImageMagick 7
$(ColorGreen '4)') cURL
$(ColorGreen '5)') CMake, Meson, Ninja
$(ColorGreen '6)') GParted
$(ColorGreen '7)') Video Players
$(ColorGreen '8)') FFmpeg
$(ColorGreen '9)') Golang
$(ColorGreen '0)') Exit
$(ColorBlue 'Choose an option:') "
    read answer

    case "$answer" in
        1)
            clear
            szip_release_fn
            clear
            install_menu
            ;;
        2)
            clear
            szip_beta_fn
            clear
            install_menu
            ;;
        3)
            clear
            imagick_fn
            clear
            install_menu
            ;;
        4)
            clear
            curl_fn
            clear
            install_menu
            ;;
        5)
            clear
            build_tools_fn
            clear
            install_menu
            ;;
        6)
            clear
            gparted_fn
            clear
            install_menu
            ;;
        7)
            clear
            video_fn
            clear
            install_menu
            ;;
        8)
            clear
            ffmpeg_fn
            clear
            install_menu
            ;;
        9)
            clear
            go_fn
            clear
            install_menu
            ;;
        0)
            if [ -f 'build-menu' ]; then
                sudo rm 'build-menu'
            fi
            clear
            exit 0
            ;;
        *)
            echo $red'Wrong option'$clear
            WrongCommand
            ;;
    esac
}

install_menu
