untar()
{
    clear

    local ext

    for file in *.*
    do
        ext="${file##*.}"

        [[ ! -d "$PWD/${file%%.*}" ]] && mkdir -p "$PWD/${file%%.*}"

        case "$ext" in
            7z|zip)
                clear
                echo "extracting 1: $file"
                read -p 'Press enter to continue.'
                clear
                7z x -o"$PWD/${file%%.*}" "$PWD/$file"
                ;;
            bz2|gz|xz)
                jflag=''
                [[ "$ext" == 'bz2' ]] && jflag='j'
                clear
                echo "extracting 2: $file"
                read -p 'Press enter to continue.'
                clear
                tar -xf${jflag} "$PWD/$file" -C "$PWD/${file%%.*}"
                ;;
            *)
                printf "%s\n\n%s\n\n" \
                    'No archives to extract were found.' \
                    'Make sure you run this function in the same directory as the archives'
                ;;
        esac
    done
}
